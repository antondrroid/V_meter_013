/*
 * adc.c
 *
 * Created: 11/25/2020 10:54:14 AM
 *  Author: john
 */ 
#include "adc.h"
//-------------
void ADC_Init(void) //initial

{
	ADCSRA |= (1<<ADEN) // adc enable ?????????? ????????????? ??? 
	| (1<<ADPS2)|(1<<ADPS1)|(1<<ADPS0);//divider 128 = 64kHz ???????? 128 = 64???
	
	ADMUX |= (1<<REFS1)|(1<<REFS0); // inside ref voltage 1.1V  port ADC0 ?????????? ???????? ?? 2,56?, ???? ADC0	
	
}
//-------------------------
//-------------------------
unsigned int ADC_convert (void)   //adc start counting process 
{
	ADCSRA |= (1<<ADSC); //start coversion (When the conversion is complete, it returns to zero). ???????? ??????????????
	while((ADCSRA & (1<<ADSC))); //check, does the conversion finished ???????? ??????????? ?? ???????-???????? ??????????????
	return (unsigned int) ADC;	
}
//-------------------------