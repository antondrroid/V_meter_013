/*
 * adt.c
 *
 * Created: 12/2/2020 5:28:44 AM
 *  Author: anton
 */ 
#include "adt.h"
//-------------same as adc.c just for the ADC1
void ADT_Init(void) //initial

{
	ADCSRA |= (1<<ADEN) // adc enable ?????????? ????????????? ???
	| (1<<ADPS2)|(1<<ADPS1)|(1<<ADPS0);//divider 128 = 64kHz ???????? 128 = 64???
	
	ADMUX |= (1<<REFS1)|(1<<REFS0) |(1<<MUX0); // inside ref voltage 1.1V  port ADC1 0001 ?????????? ???????? ?? 2,56?, ???? ADC0
	
}
//-------------------------
//-------------------------
unsigned int ADT_convert (void)   //adc start counting process
{
	ADCSRA |= (1<<ADSC); //start coversion (When the conversion is complete, it returns to zero). ???????? ??????????????
	while((ADCSRA & (1<<ADSC))); //check, does the conversion finished ???????? ??????????? ?? ???????-???????? ??????????????
	return (unsigned int) ADC;
}
//-------------------------